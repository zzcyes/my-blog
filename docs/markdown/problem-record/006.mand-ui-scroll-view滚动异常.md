# mand-ui-scroll-viewæ»šåŠ¨å¼‚å¸¸

å¦‚æƒ³åœ¨çº¿è°ƒè¯•ï¼Œè¯·ç‚¹å‡»ç›´è¾¾ğŸ‘‰[https://codesandbox.io/s/scroll-view-drnvl](https://codesandbox.io/s/scroll-view-drnvl)

## é—®é¢˜åœºæ™¯

åœ¨æŸäº›å®‰å“è€æœºå‹ï¼ˆiosæš‚æœªæµ‹è¯•ï¼‰ä¸Šï¼Œ `scroll-view`Â æ»šåŠ¨å¼‚å¸¸ï¼Œæ— æ³•ä¸Šæ»‘æŸ¥çœ‹æ›´å¤šå†…å®¹ã€‚

ç›´æ¥ä¸Šä»£ç :
```html
<template>
    <div class="home-wrapper">
        <header>header</header>
        <main>
            <ui-scroll-view :scrolling-x="false"
                            auto-reflow>
                <div v-for="index in 1000"
                     :key="index">{{index}}</div>
            </ui-scroll-view>
        </main>
        <footer>footer</footer>
    </div>
</template>

<script>
import { ScrollView } from 'mtapp-ui';

export default {
    name: 'home',
    components: {
        [ScrollView.name]: ScrollView,
    },
};
</script>

<style lang="less" scoped>
.home-wrapper {
  	@bar-height: 1rem;

    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;

    header,
    footer {
        height: @bar-height;
        line-height: @bar-height;
        font-size: 0.36rem;
        text-align: center;
    }

    main {
        flex:1;
        padding: 0.22rem 0.3rem;
        overflow-x: hidden;
        background-color: #f6f7f9;
    }
}
</style>

```
## é—®é¢˜åŸå› 

å¯ä»¥çœ‹åˆ°ï¼Œé¡µé¢ä½¿ç”¨flexå¸ƒå±€ï¼Œ `header`Â å’Œ `footer`Â éƒ½æ˜¯å›ºå®šé«˜åº¦ï¼Œå…¶ä¸­ `main`Â ä¸ºè‡ªé€‚åº”é«˜åº¦å¹¶æ”¯æŒyè½´æ»šåŠ¨ã€‚ `scroll-view`Â ä¹Ÿæ”¾åœ¨ `main`Â å®¹å™¨å†…ã€‚

æˆ‘ä»¬åœ¨éƒ¨åˆ†æœºå‹é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œåˆ†æåå¤§è‡´ï¼ˆèµ„æºæœ‰é™ï¼Œæ— æ³•ç©·å°½ï¼‰å¾—å‡ºä¸ºè€æœºå‹ä¼šæœ‰è¿™ä¸ªé—®é¢˜ã€‚

| **æœºå‹** | **æ“ä½œç³»ç»Ÿ** | **ç‰ˆæœ¬å·** |
| --- | --- | --- |
| ä¸‰æ˜Ÿs7 | Android | 6.0.1 |
| ä¹è§† | Android |  |

[Mand Mobile å®˜æ–¹æ–‡æ¡£](https://mand-mobile.gitee.io/docs/index.gitee.html#/zh-CN/docs/components/gesture/scroll-view) æä¾›å¦‚ä¸‹è§£å†³æ–¹æ¡ˆï¼š

é¦–å…ˆï¼Œå¤§å¤šæ•°æ»šåŠ¨å¼‚å¸¸çš„æƒ…å†µæ˜¯ç”±äºå®¹å™¨å°ºå¯¸ï¼ˆå‚ç›´æ»šåŠ¨ï¼šé«˜åº¦ï¼Œæ°´å¹³æ»šåŠ¨ï¼šå®½åº¦ï¼‰çš„é—®é¢˜å¯¼è‡´ï¼Œå®¹å™¨çš„é«˜åº¦å¯ä»¥é€šè¿‡**å›ºå®šå°ºå¯¸**ï¼Œ**æµå¼å¸ƒå±€**ï¼Œ**flexå¸ƒå±€**ç­‰å¤šç§æ–¹å¼æ§åˆ¶ï¼Œå½“å®¹å™¨å°ºå¯¸ä¸è¶³æ—¶ä¼šå¯¼è‡´å†…éƒ¨[Scrolleråˆå§‹åŒ–](https://github.com/didi/mand-mobile/blob/master/components/scroll-view/index.vue#L374)å¼‚å¸¸ã€‚å½“å‡ºç°æ­¤ç±»æƒ…å†µæ—¶ï¼Œå¯é€šè¿‡æµè§ˆå™¨å…ƒç´ æŸ¥çœ‹å™¨æ£€æŸ¥å®¹å™¨å…ƒç´ çš„**`.md-scroll-view`**é«˜åº¦æ˜¯å¦æ­£ç¡®ã€‚

å…¶æ¬¡ï¼Œç¡®è®¤æ˜¯å¦å­˜åœ¨åŠ¨æ€å˜æ›´æ»šåŠ¨åŒºåŸŸå†…å®¹ï¼Œå¯¼è‡´æ»šåŠ¨åŒºåŸŸå°ºå¯¸å˜åŒ–ï¼Œæ­¤æ—¶éœ€è°ƒç”¨`reflowScroller`æˆ–è€…ç›´æ¥å°†`auto-reflow`è®¾ç½®ä¸º`true`ã€‚

ä»å®˜æ–¹æ–‡æ¡£æä¾›çš„è§£å†³æ–¹æ¡ˆå¯ä»¥åˆ¤æ–­ï¼Œæ»šåŠ¨å¼‚å¸¸å¤§æ¦‚ç‡ä¸ºå®¹å™¨å°ºå¯¸çš„é—®é¢˜å¯¼è‡´ï¼Œå› ä¸ºç§»åŠ¨ç«¯ä¸ä¾¿äºæŸ¥çœ‹**`.md-scroll-view`**é«˜åº¦ã€‚æ¥ä¸‹æ¥åˆ†æ[scroll-viewÂ æºç ](https://github.com/didi/mand-mobile/blob/master/components/scroll-view/index.vue#L374)ï¼Œå‘ç° `containerH`Â ã€ `contentH`Â è¿™ä¸¤ä¸ªå±æ€§åˆ†åˆ« `scroll-view`Â çš„å®¹å™¨é«˜åº¦ã€å†…å®¹é«˜åº¦ã€‚


äºæ˜¯ï¼Œåœ¨è€æœºå‹çš„å®‰å“æ‰‹æœºä¸‹æ‰“å°äº† `scroll-view` ç›¸å…³ä¿¡æ¯ï¼Œå¦‚ä¸‹æˆªå›¾ï¼šÂ 

![problem-record-001.png](../../images/problem-record-001.png)
åœ¨æ»šåŠ¨å¼‚å¸¸çš„å®¹å™¨æˆªå›¾ä¿¡æ¯ä¸­ï¼Œæˆ‘ä»¬å¾—åˆ°  `containerH`Â ã€ `contentH`Â å‡ä¸º `2403`Â ï¼Œå³ `scroll-view`Â å®¹å™¨å’Œå†…å®¹é«˜åº¦å‡ä¸º `2403`Â ã€‚è€Œæ­¤æ—¶`main`Â é«˜åº¦ä¸º `527`Â ï¼Œå¾ˆæ˜æ˜¾  `containerH`Â ã€ `contentH`Â Â æ˜¯å¼‚å¸¸é«˜åº¦ã€‚


ç®€å•çš„è¯´ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬ä½¿ç”¨çš„**flexå¸ƒå±€**åœ¨è¿™äº›è€æœºå‹ä¸‹å¤±æ•ˆäº†ï¼ˆå…·ä½“åŸå› ï¼Œæœ‰æ—¶é—´å†æ¢ç©¶ï¼‰ã€‚

## è§£å†³æ–¹æ¡ˆ

**ç»™scroll-viewå®¹å™¨è®¾ç½®å›ºå®šé«˜åº¦**

æˆ‘ä»¬å¸¸ç”¨å¸ƒå±€éƒ½æ˜¯ `flex`Â å¸ƒå±€ï¼ŒåŸºæœ¬ä¸Š `header`Â å’Œ `footer`Â å›ºå®šï¼Œ `main`Â é€šè¿‡è®¾ç½® `flex:1`Â å»è‡ªé€‚åº”æ’‘æ»¡é¡µé¢é«˜åº¦ã€‚


å¦‚æœä½¿ç”¨ `scroll-view`Â å‡ºç°äº†æ»šåŠ¨å¼‚å¸¸é—®é¢˜ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å…¶ä»–è®¾ç½®é«˜åº¦çš„æ–¹æ¡ˆæ¥æ›¿ä»£ `flex:1`Â ï¼Œå¦‚ï¼š
é€šè¿‡ `calc`Â è®¡ç®— `main`Â çš„é«˜åº¦ç­‰ç­‰ã€‚
```javascript
<style lang="less" scoped>
.home-wrapper {
  	@bar-height: 1rem;

    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;

    header,
    footer {
        height: @bar-height;
        line-height: @bar-height;
        font-size: 0.36rem;
        text-align: center;
    }

    main {
        // å†™åœ¨flexå‰é¢ï¼Œæ­£å¸¸æƒ…å†µä¼šè¢«flexè¦†ç›–ï¼Œä½ç‰ˆæœ¬ä¸‹flex:1ä¸ç”Ÿæ•ˆã€‚
        height: calc(100% - 2*@bar-height);
        flex:1;
        padding: 0.22rem 0.3rem;
        overflow-x: hidden;
        background-color: #f6f7f9;
    }
}
</style>
```
